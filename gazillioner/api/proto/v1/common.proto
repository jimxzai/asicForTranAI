syntax = "proto3";

package gazillioner.v1;

option go_package = "github.com/gazillioner/gazillioner/api/v1;apiv1";

import "google/protobuf/timestamp.proto";

// Empty message for requests/responses with no data
message Empty {}

// Pagination request parameters
message PaginationRequest {
  int32 page_size = 1;
  string page_token = 2;
}

// Pagination response metadata
message PaginationResponse {
  string next_page_token = 1;
  int32 total_count = 2;
}

// Money amount with currency
message Money {
  string currency = 1;  // ISO 4217 currency code (e.g., "USD")
  int64 units = 2;      // Whole units (e.g., dollars)
  int32 nanos = 3;      // Nano units (10^-9), must be -999,999,999 to +999,999,999
}

// Decimal value for precise financial calculations
message Decimal {
  string value = 1;  // String representation to avoid floating point issues
}

// Error details for rich error responses
message ErrorDetail {
  string code = 1;
  string message = 2;
  map<string, string> metadata = 3;
}

// Verification metadata for AI responses
message VerificationMetadata {
  string proof_hash = 1;           // SHA-256 of Lean proof certificate
  double error_bound = 2;          // Maximum error bound for computation
  bool verified = 3;               // Whether inference was formally verified
  string model_version = 4;        // Model version string
  google.protobuf.Timestamp timestamp = 5;
}
